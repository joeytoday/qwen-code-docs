# è®¤è¯

Qwen Code æ”¯æŒä¸¤ç§è®¤è¯æ–¹å¼ã€‚é€‰æ‹©ä¸Žä½ è¿è¡Œ CLI æ–¹å¼ç›¸åŒ¹é…çš„ä¸€ç§ï¼š

- **Qwen OAuthï¼ˆæŽ¨èï¼‰**ï¼šåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ä½ çš„ `qwen.ai` è´¦æˆ·ç™»å½•ã€‚
- **OpenAI å…¼å®¹ API**ï¼šä½¿ç”¨ API å¯†é’¥ï¼ˆOpenAI æˆ–ä»»ä½• OpenAI å…¼å®¹çš„æä¾›å•†/ç«¯ç‚¹ï¼‰ã€‚

![](https://img.alicdn.com/imgextra/i2/O1CN01IxI1bt1sNO543AVTT_!!6000000005754-0-tps-1958-822.jpg)

## é€‰é¡¹ 1ï¼šQwen OAuthï¼ˆæŽ¨èä¸”å…è´¹ï¼‰ðŸ‘

å¦‚æžœä½ æƒ³è¦æœ€ç®€å•çš„è®¾ç½®å¹¶ä¸”æ­£åœ¨ä½¿ç”¨ Qwen æ¨¡åž‹ï¼Œè¯·ä½¿ç”¨æ­¤é€‰é¡¹ã€‚

- **å·¥ä½œåŽŸç†**ï¼šé¦–æ¬¡å¯åŠ¨æ—¶ï¼ŒQwen Code ä¼šæ‰“å¼€æµè§ˆå™¨ç™»å½•é¡µé¢ã€‚å®Œæˆç™»å½•åŽï¼Œå‡­è¯å°†è¢«ç¼“å­˜åœ¨æœ¬åœ°ï¼Œå› æ­¤é€šå¸¸ä½ æ— éœ€å†æ¬¡ç™»å½•ã€‚
- **è¦æ±‚**ï¼šä¸€ä¸ª `qwen.ai` è´¦æˆ· + ç½‘ç»œè®¿é—®æƒé™ï¼ˆè‡³å°‘é¦–æ¬¡ç™»å½•æ—¶éœ€è¦ï¼‰ã€‚
- **ä¼˜åŠ¿**ï¼šæ— éœ€ç®¡ç† API å¯†é’¥ï¼Œè‡ªåŠ¨åˆ·æ–°å‡­è¯ã€‚
- **è´¹ç”¨å’Œé…é¢**ï¼šå…è´¹ï¼Œé…é¢ä¸º **æ¯åˆ†é’Ÿ 60 æ¬¡è¯·æ±‚** å’Œ **æ¯å¤© 1,000 æ¬¡è¯·æ±‚**ã€‚

å¯åŠ¨ CLI å¹¶æŒ‰ç…§æµè§ˆå™¨æµç¨‹æ“ä½œï¼š

```bash
qwen
```

## é€‰é¡¹ 2ï¼šOpenAI å…¼å®¹ APIï¼ˆAPI å¯†é’¥ï¼‰

å¦‚æžœä½ æƒ³ä½¿ç”¨ OpenAI æ¨¡åž‹æˆ–ä»»ä½•æä¾› OpenAI å…¼å®¹ API çš„æä¾›å•†ï¼ˆä¾‹å¦‚ OpenAIã€Azure OpenAIã€OpenRouterã€ModelScopeã€é˜¿é‡Œäº‘ç™¾ç‚¼æˆ–è‡ªæ‰˜ç®¡çš„å…¼å®¹ç«¯ç‚¹ï¼‰ï¼Œè¯·ä½¿ç”¨æ­¤é€‰é¡¹ã€‚

### æŽ¨èï¼šç¼–ç è®¡åˆ’ï¼ˆåŸºäºŽè®¢é˜…ï¼‰ðŸš€

å¦‚æžœä½ å¸Œæœ›ä¸º qwen3-coder-plus æ¨¡åž‹èŽ·å¾—å¯é¢„æµ‹çš„æˆæœ¬å’Œæ›´é«˜çš„ä½¿ç”¨é…é¢ï¼Œè¯·ä½¿ç”¨æ­¤æ–¹æ¡ˆã€‚

> [!IMPORTANT]
>
> ç¼–ç è®¡åˆ’ä»…é€‚ç”¨äºŽä¸­å›½å¤§é™†ç”¨æˆ·ï¼ˆåŒ—äº¬åŒºåŸŸï¼‰ã€‚

- **å·¥ä½œæ–¹å¼**ï¼šä»¥å›ºå®šæœˆè´¹è®¢é˜…ç¼–ç è®¡åˆ’ï¼Œç„¶åŽé…ç½® Qwen Code ä½¿ç”¨ä¸“ç”¨ç«¯ç‚¹å’Œä½ çš„è®¢é˜… API å¯†é’¥ã€‚
- **è¦æ±‚**ï¼šéœ€è¦ä»Ž [é˜¿é‡Œäº‘ç™¾ç‚¼](https://bailian.console.aliyun.com/cn-beijing/?tab=globalset#/efm/coding_plan) è´­ä¹°æœ‰æ•ˆçš„ç¼–ç è®¡åˆ’è®¢é˜…ã€‚
- **ä¼˜åŠ¿**ï¼šæ›´é«˜çš„ä½¿ç”¨é…é¢ã€å¯é¢„æµ‹çš„æœˆåº¦æˆæœ¬ã€è®¿é—®æœ€æ–°çš„ qwen3-coder-plus æ¨¡åž‹ã€‚
- **è´¹ç”¨ä¸Žé…é¢**ï¼šå› è®¡åˆ’è€Œå¼‚ï¼ˆè§ä¸‹è¡¨ï¼‰ã€‚

#### ç¼–ç¨‹è®¡åˆ’å®šä»·ä¸Žé…é¢

| åŠŸèƒ½                | Lite åŸºç¡€è®¡åˆ’         | Pro é«˜çº§è®¡åˆ’          |
| :------------------ | :-------------------- | :-------------------- |
| **ä»·æ ¼**            | 40å…ƒ/æœˆ               | 200å…ƒ/æœˆ              |
| **5å°æ—¶é™åˆ¶**       | æœ€å¤š 1,200 æ¬¡è¯·æ±‚     | æœ€å¤š 6,000 æ¬¡è¯·æ±‚     |
| **æ¯å‘¨é™åˆ¶**        | æœ€å¤š 9,000 æ¬¡è¯·æ±‚     | æœ€å¤š 45,000 æ¬¡è¯·æ±‚    |
| **æ¯æœˆé™åˆ¶**        | æœ€å¤š 18,000 æ¬¡è¯·æ±‚    | æœ€å¤š 90,000 æ¬¡è¯·æ±‚    |
| **æ”¯æŒçš„æ¨¡åž‹**      | qwen3-coder-plus      | qwen3-coder-plus      |

#### ç¼–ç¨‹è®¡åˆ’å¿«é€Ÿè®¾ç½®

å½“æ‚¨åœ¨ CLI ä¸­é€‰æ‹© OpenAI å…¼å®¹é€‰é¡¹æ—¶ï¼Œè¯·è¾“å…¥ä»¥ä¸‹å€¼ï¼š

- **API key**: `sk-sp-xxxxx`
- **Base URL**: `https://coding.dashscope.aliyuncs.com/v1`
- **Model**: `qwen3-coder-plus`

> **æ³¨æ„**: ç¼–ç¨‹è®¡åˆ’ API å¯†é’¥çš„æ ¼å¼ä¸º `sk-sp-xxxxx`ï¼Œè¿™ä¸Žæ ‡å‡†çš„é˜¿é‡Œäº‘ API å¯†é’¥ä¸åŒã€‚

#### é€šè¿‡çŽ¯å¢ƒå˜é‡é…ç½®

è®¾ç½®è¿™äº›çŽ¯å¢ƒå˜é‡ä»¥ä½¿ç”¨ Coding Planï¼š

```bash
export OPENAI_API_KEY="your-coding-plan-api-key"  # æ ¼å¼: sk-sp-xxxxx
export OPENAI_BASE_URL="https://coding.dashscope.aliyuncs.com/v1"
export OPENAI_MODEL="qwen3-coder-plus"
```

æœ‰å…³ Coding Plan çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬è®¢é˜…é€‰é¡¹å’Œæ•…éšœæŽ’é™¤ï¼Œè¯·å‚é˜…[å®Œæ•´çš„ Coding Plan æ–‡æ¡£](https://bailian.console.aliyun.com/cn-beijing/?tab=doc#/doc/?type=model&url=3005961)ã€‚

### å…¶ä»– OpenAI å…¼å®¹æä¾›å•†

å¦‚æžœä½ æ­£åœ¨ä½¿ç”¨å…¶ä»–æä¾›å•†ï¼ˆOpenAIã€Azureã€æœ¬åœ° LLM ç­‰ï¼‰ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é…ç½®æ–¹æ³•ã€‚

### é€šè¿‡å‘½ä»¤è¡Œå‚æ•°é…ç½®

```bash

# ä»… API å¯†é’¥
qwen-code --openai-api-key "your-api-key-here"

# è‡ªå®šä¹‰åŸºç¡€ URLï¼ˆOpenAI å…¼å®¹ç«¯ç‚¹ï¼‰
qwen-code --openai-api-key "your-api-key-here" --openai-base-url "https://your-endpoint.com/v1"

# è‡ªå®šä¹‰æ¨¡åž‹
qwen-code --openai-api-key "your-api-key-here" --model "gpt-4o-mini"
```

### é€šè¿‡çŽ¯å¢ƒå˜é‡é…ç½®

ä½ å¯ä»¥åœ¨ shell é…ç½®æ–‡ä»¶ã€CI æˆ– `.env` æ–‡ä»¶ä¸­è®¾ç½®è¿™äº›å˜é‡ï¼š

```bash
export OPENAI_API_KEY="your-api-key-here"
export OPENAI_BASE_URL="https://api.openai.com/v1"  # å¯é€‰
export OPENAI_MODEL="gpt-4o"                        # å¯é€‰
```

#### ä½¿ç”¨ `.env` / `.qwen/.env` æŒä¹…åŒ–çŽ¯å¢ƒå˜é‡

Qwen Code å°†è‡ªåŠ¨ä»Žæ‰¾åˆ°çš„**ç¬¬ä¸€ä¸ª** `.env` æ–‡ä»¶åŠ è½½çŽ¯å¢ƒå˜é‡ï¼ˆå˜é‡**ä¸ä¼š**åœ¨å¤šä¸ªæ–‡ä»¶ä¹‹é—´åˆå¹¶ï¼‰ã€‚

æœç´¢é¡ºåºï¼š

1. ä»Ž**å½“å‰ç›®å½•**å¼€å§‹ï¼Œå‘ä¸ŠéåŽ†åˆ° `/`ï¼š
   1. `.qwen/.env`
   2. `.env`
2. å¦‚æžœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™å›žé€€åˆ°ä½ çš„**ä¸»ç›®å½•**ï¼š
   - `~/.qwen/.env`
   - `~/.env`

æŽ¨èä½¿ç”¨ `.qwen/.env` æ¥å°† Qwen Code å˜é‡ä¸Žå…¶ä»–å·¥å…·éš”ç¦»ã€‚æŸäº›å˜é‡ï¼ˆå¦‚ `DEBUG` å’Œ `DEBUG_MODE`ï¼‰ä¼šä»Žé¡¹ç›® `.env` æ–‡ä»¶ä¸­æŽ’é™¤ï¼Œä»¥é¿å…å¹²æ‰° qwen-code çš„è¡Œä¸ºã€‚

ç¤ºä¾‹ï¼š

```bash

# é¡¹ç›®ç‰¹å®šè®¾ç½®ï¼ˆæŽ¨èï¼‰
```bash
mkdir -p .qwen
cat >> .qwen/.env <<'EOF'
OPENAI_API_KEY="your-api-key"
OPENAI_BASE_URL="https://api-inference.modelscope.cn/v1"
OPENAI_MODEL="Qwen/Qwen3-Coder-480B-A35B-Instruct"
EOF
```

```bash
# ç”¨æˆ·å…¨å±€è®¾ç½®ï¼ˆåœ¨æ‰€æœ‰åœ°æ–¹å¯ç”¨ï¼‰
mkdir -p ~/.qwen
cat >> ~/.qwen/.env <<'EOF'
OPENAI_API_KEY="your-api-key"
OPENAI_BASE_URL="https://dashscope.aliyuncs.com/compatible-mode/v1"
OPENAI_MODEL="qwen3-coder-plus"
EOF
```

## åˆ‡æ¢è®¤è¯æ–¹å¼ï¼ˆæ— éœ€é‡å¯ï¼‰

åœ¨ Qwen Code UI ä¸­è¿è¡Œï¼š

```bash
/auth
```

## éžäº¤äº’å¼/æ— å¤´çŽ¯å¢ƒï¼ˆCIã€SSHã€å®¹å™¨ï¼‰

åœ¨éžäº¤äº’å¼ç»ˆç«¯ä¸­é€šå¸¸**æ— æ³•**å®Œæˆ OAuth æµè§ˆå™¨ç™»å½•æµç¨‹ã€‚
é€šè¿‡çŽ¯å¢ƒå˜é‡ä½¿ç”¨å…¼å®¹ OpenAI çš„ API æ–¹æ³•ï¼š

- è‡³å°‘è®¾ç½® `OPENAI_API_KEY`ã€‚
- å¯é€‰æ‹©æ€§åœ°è®¾ç½® `OPENAI_BASE_URL` å’Œ `OPENAI_MODEL`ã€‚

å¦‚æžœåœ¨éžäº¤äº’å¼ä¼šè¯ä¸­æœªè®¾ç½®è¿™äº›å˜é‡ï¼ŒQwen Code å°†ä»¥é”™è¯¯é€€å‡ºã€‚

## å®‰å…¨æ³¨æ„äº‹é¡¹

- ä¸è¦å°† API å¯†é’¥æäº¤åˆ°ç‰ˆæœ¬æŽ§åˆ¶ä¸­ã€‚
- ä¼˜å…ˆä½¿ç”¨ `.qwen/.env` å­˜æ”¾é¡¹ç›®æœ¬åœ°çš„å¯†é’¥ï¼ˆå¹¶ç¡®ä¿å®ƒä¸åœ¨ git ä¸­ï¼‰ã€‚
- å¦‚æžœç»ˆç«¯è¾“å‡ºæ‰“å°äº†ç”¨äºŽéªŒè¯çš„å‡­è¯ï¼Œè¯·å°†å…¶è§†ä¸ºæ•æ„Ÿä¿¡æ¯ã€‚